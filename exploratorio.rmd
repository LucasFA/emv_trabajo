---
title: "Práctica final"
author: "Pilar Ruiz Navarro, Lucas Fehlau Arbulu"
date: "`r Sys.Date()`"
output:
  html_document: 
    toc: true
    toc_depth: 2
    number_sections: false
    keep_md: false
    toc_float: 
      collapsed: false
      smooth_scroll: false
  pdf_document:
    keep_tex: false
---


Esquema del trabajo de acuerdo al guión:
# Análisis exploratorio univariante
## a) Recodificaciones/agrupaciones de datos/variables (preprocesado)
## b) Valores perdidos
## c) Análisis descriptivo (summary, código de clase)
## d) Outliers (código de clase)
## e) Comprobar normalidad. qqplot
## f) Otros

# Análisis exploratorio multivariante
## a)Correlación (código de clase. test de Bartlett)
## b) Si se han tratado los outliers, ACP (código de clase)
## c) Si no se han tratado los NA, (código de clase)
## d) Estudio posibilidad de aplicar ACP y aplicarlo(código de clase)
## e) Elegir número de variables y aplicar AF(código de clase)
## f) Normalidad multivariante (código de clase, tema 5)
## g) Clasificador (código de clase)
### Lineal
### Cuadrático
## h) Validar modelos 
## i) Análisis cluster


<!-- 
Esquema del trabajo de ejemplo de Prado:
# Preprocesamiento de datos
## Descripción
## Carga de datos
## Valores perdidos
## Análisis exploratorio
## Outliers

# ACP
# AF

# AD
## Lineal
## Cuadrático
-->


# Abstract 
<!-- Opcional, supongo -->


# Introducción


# Lectura de datos

```{r}
# data <- read.csv()
data <- data.frame(list(c(1, 2, 3, 4), c(4, 3, 2, 1)))
```


# Análisis exploratorio univariante
Las variables del conjunto de datos son:
- Esto
- Aquello

<!-- Apartado b -->
## Valores faltantes
<!-- b.i) -->
Porcentaje de datos faltantes:
```{r}
colMeans(is.na(data)) * 100
```

<!-- Si más del 5%, analizar si es completely at random: -->
<!-- Para ello, estudiar la homogeneidad según grupos (NA y no -->
<!-- NA) con otras variables. Si son continuas, con un test de student, si son cualitativas o -->
<!-- discretas con test de independencia Chi-cuadrado, etc. -->
<!-- (Investigar funciones para el contraste de medias como t.test(), etc. del lenguaje R.) -->


<!-- Apartado c analisis descriptivo -->
## Analisis descriptivo
```{r warning=FALSE, message=FALSE}
colnames(data)

head(data)

freq(data$nombre_columna)
freq(data$nombre_columna)
freq(data$nombre_columna)
freq(data$nombre_columna)

```
<!-- apartado d  -->
## Outliers
```{r warning=FALSE, message=FALSE}
vars <- data # TODO: quitar las variables no explicativas (si las hay)
boxplot(vars,
        main = "Outliers",
        xlab = "Variables explicativas",
        ylab = "Valor",
        col = c(seq_len(ncol(vars))) # numero de columnas!

```


## Normalidad univariante
<!-- qqplots para variables continuas, etc -->
```{r}
par(mfrow = c(2, 3))
for (k in 2:4) {
  j0 <- names(datos)[k]
  x0 <- seq(min(datos[, k]), max(datos[, k]), le = 50)
  for (i in 1:2) {
    i0 <- levels(datos$especie)[i]
    x <- datos[datos$especie == i0, j0]
    qqnorm(x, main = paste("especie", i0, j0), pch = 19, col = i + 1)
    qqline(x)
  }
}
# Ejemplo una variable:
qqnorm(no_out_standard$insu,
  main = "Insulin",
  col = "cornflowerblue",
  cex.lab = 1.2, cex.main = 1.5,
  xlab = "Theoretical quantiles (normal distribution)",
  ylab = "Empirical quantiles",
)
qqline(no_out_standard$insu, distribution = qnorm)
```

# Distribución multivariante

## Correlación
```{r}
library(psych)
dataset_normalizado <- scale(dataset)
cortest.bartlett(cor(dataset_normalizado), n = nrow(dataset_normalizado))
```
## Outliers 
(de nuevo. Se incluye o no dependiendo de como se haya tratado antes)

## Decisiones sobre NA (< 5 %)

<!-- apartado d -->
## ACP

### Número de componentes principales

<!-- apartado e -->
## AF

### Número de factores

